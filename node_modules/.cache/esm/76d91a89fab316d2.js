"main";_fab‍.x([["ResidentAPI",()=>ResidentAPI],["ReportsAPI",()=>ReportsAPI],["TransactionAPI",()=>TransactionAPI]]);let RESTDataSource;_fab‍.w("apollo-datasource-rest",[["RESTDataSource",["RESTDataSource"],function(v){RESTDataSource=v}]]);yield;

const axios = require('axios')

       class ResidentAPI extends RESTDataSource {
    constructor() {
        super();
        this.baseURL = 'http://localhost:3000/';
    }

    async getAllResidents() {
        return this.get('residents');
    }

    async getAResident(idNumber) {
        const result = await this.get('residents/'+idNumber);

        return result;
    }

    async createAResident(args) {

        axios.post(this.baseURL+'/todos', {
            todo: 'Buy the milk'
        })
        .then((res) => {
            _fab‍.g.console.log(`statusCode: ${res.statusCode}`)
            _fab‍.g.console.log(res)
        })
        .catch((error) => {
            _fab‍.g.console.error(error)
        })

    }
};

       class ReportsAPI extends RESTDataSource {
    constructor() {
        super();
        this.baseURL = 'http://localhost:3030/';
    }

    async getAllReports() {
        return this.get('reports');
    }

    async getAllTypes() {
        return this.get('report_types');
    }

    async getAReport(idNumber) {
        const result = await this.get('reports/'+idNumber);

        return result;
    }

    async getAType(idNumber) {
        const result = await this.get('report_types/'+idNumber);
        _fab‍.g.console.log(result);
        return result;
    }
};

       class TransactionAPI extends RESTDataSource {
    constructor() {
        super();
        this.baseURL = 'http://35.199.81.116:8000/';
    }

    async getAllTransactions() {
        const result = await this.get('transaction/');
        return result["results"];
    }

    async getATransaction(idNumber) {
        const result = await this.get('transaction/'+idNumber);

        return result;
    }
};
